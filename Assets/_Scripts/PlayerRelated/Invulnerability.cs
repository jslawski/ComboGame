using UnityEngine;
using System.Collections;

public class Invulnerability : ActivatedAbility {
	float duration = 6f;		//How long the invincibility lasts

	// Use this for initialization
	protected override void Awake() {
		base.Awake();

		cooldown = 30f;
		activateKey = KeyCode.Alpha3;
		activateButton = (thisPlayer.curDevice != null) ? thisPlayer.curDevice.Action3 : null;
	}

	override protected void SetAbilityInfo() {
		info.abilityName = "Blind to Pain";
		info.abilityDescription = "Become invincible for a few seconds. Has a high cooldown.";
		info.abilityImage = Resources.Load<Sprite>("Images/AbilityImages/Invulnerability.png");
		info.type = typeof(Invulnerability);
	}

	public override void Activate() {
		base.Activate();

		StartCoroutine(InvulnerabilityCoroutine());
	}
	IEnumerator InvulnerabilityCoroutine() {
		thisPlayer.invincible = true;
		yield return new WaitForSeconds(duration);
		thisPlayer.invincible = false;
	}
}
